---
import { Image } from 'astro:assets';
import { type CollectionEntry } from 'astro:content';

import FormattedDate from '~/components/FormattedDate.astro';
import { getPostPath } from '~/lib/posts';

interface Props {
	posts: CollectionEntry<'blog'>[];
}

const { posts } = Astro.props;
---

<ul class="grid gap-10 md:grid-cols-2 lg:grid-cols-3">
	{
		posts.map((post) => (
			<li>
				<a href={getPostPath(post)}>
					<h4 class="font-thin text-3xl mb-4">{post.data.title}</h4>
					{post.data.coverImage && (
						<Image
							alt={`Image for post ${post.data.title}`}
							class="object-cover h-80 image-filter rounded-md"
							src={post.data.coverImage}
						/>
					)}
					<p class="mt-4">
						<FormattedDate date={post.data.date} />
					</p>
				</a>
			</li>
		))
	}
</ul>
